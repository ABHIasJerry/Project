<!DOCTYPE html>
<html lang="en">
<head>
  <title>Home Automation Desk</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="refresh" content="10">
  <link rel="icon" type="image/x-icon" href="img/favicon.ico">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<style>
body {
  position: relative; 
}

#fade {
  display: none;
  position: fixed;
  top: 0%;
  left: 0%;
  width: 100%;
  height: 100%;
  background-color: black;
  z-index: 1001;
  -moz-opacity: 0.8;
  opacity: .80;
  filter: alpha(opacity=80);
}

#light {
  display: none;
  position: absolute;
  top: 50%;
  left: 50%;
  max-width: 600px;
  max-height: 360px;
  margin-left: -300px;
  margin-top: 280px;
  border: 2px solid #FFF;
  background: #FFF;
  z-index: 1002;
  overflow: visible;
}

#boxclose {
  float: right;
  cursor: pointer;
  color: #fff;
  border: 1px solid #AEAEAE;
  border-radius: 3px;
  background: #222222;
  font-size: 31px;
  font-weight: bold;
  display: inline-block;
  line-height: 0px;
  padding: 11px 3px;
  position: absolute;
  right: 2px;
  top: 2px;
  z-index: 1002;
  opacity: 0.9;
}

.boxclose:before {
  content: "×";
}

#fade:hover ~ #boxclose {
  display:none;
}

.test:hover ~ .test2 {
  display: none;
}
</style>
</head>

<body data-bs-spy="scroll" data-bs-target=".navbar" data-bs-offset="50" onload="ListDevices()">
<nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top">
<div id="light">
  <a class="boxclose" id="boxclose" onclick="lightbox_close();"></a>
  <video id="VisaChipCardVideo" width="600" controls>
      <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
      <!--Browser does not support <video> tag -->
    </video>
</div>
  <div class="container-fluid">
    <a class="navbar-brand" href="javascript:void(0)">HOME</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mynavbar">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="mynavbar">
      <ul class="navbar-nav me-auto">
        </li>
		<li class="nav-item">
		<div id="fade" onClick="lightbox_close();"></div>
          <a class="nav-link" href="#" onclick="lightbox_open();">CAMERA FEED</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="javascript:void(0)">ABOUT US</a>
        </li>
      </ul>
      <form class="d-flex">
        <input class="form-control me-2" type="text" placeholder="Search">
        <button class="btn btn-primary" type="button">Search</button>
      </form>
    </div>
  </div>
</nav>

<div class="container-fluid p-5 bg-primary text-white text-center">
  <h1>Welcome to Home Network Control Desk</h1>
  <p>&copy 2022, |ABHINABA| All Rights Reserved.</p> 
  <img src="img/avatar.png" alt="avatar" width="300" height="250">
</div>
<div class="container mt-3">
  <h3>CONTROL DESK</h3>
  <p>Dashboard auto-refresh in 10 seconds: Active</p>  
  <button type="button" class="btn btn-primary" data-bs-toggle="popover" title="Manual Data Refresh" onclick="window.location.reload();">
    Sync Now
  </button>
  </div>
  <p>  </p>
</div>

<!-- Data displaying cards -->

<div class="parent-container d-flex">
	<div class="container">
		<div class="row">
			<div class="col-lg-2">
				<div class="card" style="width:120px; overflow-y: auto; padding-bottom: 10px; padding-right: 2px">
					<img class="card-img-top" src="img/room_temp.png" alt="Card image" style="width:auto">
						<div class="card-body">
							<h6 class="card-title">ROOM : 33°C</h6>
						</div>
				</div>
			</div>

			<div class="col-lg-2">
				<div class="card" style="width:140px; overflow-y: auto; padding-bottom: 10px; padding-right: 2px">
					<img class="card-img-top" src="img/humidity.png" alt="Card image" style="width:auto">
						<div class="card-body">
							<h6 class="card-title">HUMID : 87%</h6>
						</div>
				</div>
			</div>
			
			<div class="col-lg-2">
				<div class="card" style="width:120px; overflow-y: auto; padding-bottom: 10px; padding-right: 2px">
					<img class="card-img-top" src="img/soil_temp.png" alt="Card image" style="width:auto">
						<div class="card-body">
							<h6 class="card-title">SOIL : 30°C</h6>
						</div>
				</div>
			</div>
			
			<div class="col-lg-2">
				<div class="card" style="width:120px; overflow-y: auto; padding-bottom: 10px; padding-right: 2px">
					<img class="card-img-top" src="img/soil_moisture.png" alt="Card image" style="width:auto">
						<div class="card-body">
							<h6 class="card-title">SOIL : 27%</h6>
						</div>
				</div>
			</div>
			
			<div class="col-lg-2">
				<div class="card" style="width:120px; overflow-y: auto; padding-bottom: 10px; padding-right: 2px">
					<img class="card-img-top" src="img/outside.png" alt="Card image" style="width:auto">
						<div class="card-body">
							<h6 class="card-title">OUT : 37°C</h6>
						</div>
				</div>
			</div>
			
			<div class="col-lg-2">
				<div class="card" style="width:130px; overflow-y: auto; padding-bottom: 10px; padding-right: 2px">
					<img class="card-img-top" src="img/water_level.png" alt="Card image" style="width:auto">
						<div class="card-body">
							<h6 class="card-title">LEVEL : 70%</h6>
						</div>
				</div>
			</div>
			
			<div class="col-lg-2">
				<div class="card" style="width:150px; overflow-y: auto; padding-bottom: 10px; padding-right: 2px">
					<img class="card-img-top" src="img/load_tank.png" alt="Card image" style="width:auto">
						<div class="card-body">
							<h6 class="card-title">WATER LOAD: ON</h6>
							<a href="#" class="btn btn-primary">ON</a>
							<a href="#" class="btn btn-primary">OFF</a>
						</div>
				</div>
			</div>
			
			<div class="col-lg-2">
				<div class="card" style="width:140px; overflow-y: auto; padding-bottom: 10px; padding-right: 2px">
					<img class="card-img-top" src="img/wifi.png" alt="Card image" style="width:auto">
						<div class="card-body">
							<h6 class="card-title">STATUS: Connected</h6>
							<a href="#" class="btn btn-primary">Connect</a>
						</div>
				</div>
			</div>
			
			<div class="col-lg-2">
				<div class="card" style="width:140px; overflow-y: auto; padding-bottom: 10px; padding-right: 2px">
					<img class="card-img-top" src="img/bluetooth.png" alt="Card image" style="width:auto">
						<div class="card-body">
							<h6 class="card-title">STATUS: Disconnected</h6>
							<a href="#" class="btn btn-primary">Connect</a>
						</div>
				</div>
			</div>
			
			<div class="col-lg-2">
				<div class="card" style="width:180px; overflow-y: auto; padding-bottom: 10px; padding-right: 2px">
					<img class="card-img-top" src="img/sprinkler.png" alt="Card image" style="width:auto">
						<div class="card-body">
							<h6 class="card-title">SPRINKLER: Active</h6>
							<a href="#" class="btn btn-primary">Manual Spray</a>
						</div>
				</div>
			</div>
			
			<div class="col-lg-2">
				<div class="card" style="width:150px; overflow-y: auto; padding-bottom: 10px; padding-right: 2px">
					<img class="card-img-top" src="img/system_cool.png" alt="Card image" style="width:auto">
						<div class="card-body">
							<h6 class="card-title">COOLING: ON</h6>
							<a href="#" class="btn btn-primary">Over-ride</a>
						</div>
				</div>
			</div>
			
			<div class="col-lg-2">
				<div class="card" style="width:150px; overflow-y: auto; padding-bottom: 10px; padding-right: 2px">
					<img class="card-img-top" src="img/lights_on.png" alt="Card image" style="width:auto">
						<div class="card-body">
							<h6 class="card-title">STATUS: ON</h6>
							<a href="#" class="btn btn-primary">ON</a>
							<a href="#" class="btn btn-primary">OFF</a>
						</div>
				</div>
			</div>
			
			<div class="col-lg-3">
				<div class="card" style="width:200px; overflow-y: auto; padding-bottom: 10px; padding-right: 2px">
					<img class="card-img-top" src="img/voltage.png" alt="Card image" style="width:auto">
						<div class="card-body">
							<h6 class="card-title">POWER: 5.03V ; 1.72A</h6>
						</div>
				</div>
			</div>
			
			<div class="col-lg-3">
				<div class="card" style="width:270px; overflow-y: auto; padding-bottom: 5px; padding-right: 2px">
					<img class="card-img-top" src="img/gps.png" alt="Card image" style="width:auto">
						<div class="card-body">
							<button class="btn btn-primary" onclick="getLocation()">Locate</button>
							<p></p>
							<h6 class="card-title" id="demo"></h6>
						</div>
				</div>
			</div>			
			
			<div class="col-lg-3">
				<div class="card" style="width:250px; overflow-y: auto; padding-bottom: 10px; padding-right: 2px">
					<img class="card-img-top" src="img/cam.png" alt="Card image" style="width:auto">
						<div class="card-body">
							<button class="btn btn-primary" onclick="lightbox_open();">Activate Camera</button>
						</div>
				</div>
			</div>
			
			<div class="col-lg-3">
				<div class="card" style="width:270px; overflow-y: auto; padding-bottom: 10px; padding-right: 2px">
						<div class="card-body">
							<h6 class="card-title" id="demo">ON-BOARD GPS DATA</h6>
							<li>Altitude:</li>
							<li>Satellites In-view:</li>
							<li>Azimuth:</li>
							<li>Speed:</li>
							<li>Latitude:</li>
							<li>Longitude:</li>
							<li>UTC:</li>
							<li>Mean Sea Level:</li>
						</div>
				</div>
			</div>
			
		</div>
	</div>
</div> 
<object id="objComport" classid="CLSID:9366AAD2-50F4-4CFE-9613-6AC3406ED46B " viewastext></object>
<script>
var x = document.getElementById("demo");

function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition);
  } else { 
    x.innerHTML = "Geolocation is not supported by this browser.";
  }
}

function showPosition(position) {
  x.innerHTML = "Latitude: " + position.coords.latitude + 
  "<br>Longitude: " + position.coords.longitude;
}
</script>

<script>
const reloadtButton = document.querySelector("#reload");
// Reload everything:
function reload() {
    reload = location.reload();
}
// Event listeners for reload
reloadButton.addEventListener("click", reload, false);
</script>

<script>
<script>
var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'))
var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
  return new bootstrap.Popover(popoverTriggerEl)
})
</script>
<script>
window.document.onkeydown = function(e) {
  if (!e) {
    e = event;
  }
  if (e.keyCode == 27) {
    lightbox_close();
  }
}

function lightbox_open() {
  var lightBoxVideo = document.getElementById("VisaChipCardVideo");
  window.scrollTo(0, 0);
  document.getElementById('light').style.display = 'block';
  document.getElementById('fade').style.display = 'block';
  lightBoxVideo.play();
}

function lightbox_close() {
  var lightBoxVideo = document.getElementById("VisaChipCardVideo");
  document.getElementById('light').style.display = 'none';
  document.getElementById('fade').style.display = 'none';
  lightBoxVideo.pause();
}
</script>
<script language="JavaScript">

    function Send ()
    {
      objComport.Device              = comboDevice.options [ comboDevice.selectedIndex].text
      objComport.Speed               = 9600
      objComport.ComTimeout          = 500
      objComport.LogFile             = "C:\ComLog.txt"
      objComport.HardwareFlowControl = objComport.asFLOWCONTROL_DEFAULT

      objComport.Open()

      textResult.value = "Result: " + objComport.LastError + " (" + 
        objComport.GetErrorDescription ( objComport.LastError ) + ")";

      if( objComport.IsOpened == -1 )
      {
         objComport.WriteString( textCommand.value );

         textResponse.value = ""

         while( objComport.LastError == 0 )
         {
            textResponse.value += objComport.ReadString () + "\n";
         }
      }
     
      objComport.Close ()
    }

    function ListDevices ()
    {  
      nCount  = objComport.GetDeviceCount ();

      for ( i = 0 ; i < nCount ; i++ )
      {
        comboDevice.options [ i ] = new Option ( objComport.GetDevice ( i ), "" );
      }

      for ( i = 1 ; i < 9 ; i++ )
      {
        comboDevice.options [ i + nCount - 1 ] = new Option ( "COM" + i , "" );
      }
    }

</script>
	<div class="container-fluid p-3 bg-primary text-white text-center">
	<h1>Serial Port Communication</h1>
	<p>Send AT commands connected to your PC (COM port, USB , Wifi or Bluetooth).</p> 
    
        <table border="2 bgcolor="#f0f0f0" ID="Table1" align="center">
          <tr>
            <td valign="top">Select Device Name:</td>
            <td>
              <select size="1" name="comboDevice" ID="Select1">
              </select>
            </td>
          </tr>
          <tr>
            <td valign="top">Command:</td>
            <td>
              <input size="50" type="text" name="textCommand" value="AT " ID="Text1"><br>
              <br>
            </td>
          </tr>
          <tr>
            <td valign="top">Response:<br>
            </td>
            <td>
              <textarea rows="10" name="textResponse" cols="63" ID="Textarea1"></textarea>
            </td>
          </tr>
          <tr>
            <td vAlign="top">Output:</td>
            <td>
              <textarea rows="1" name="textResult" cols="63" id="Textarea2"></textarea>
            </td>
          </tr>
        </table>
        <br>
        <input type="button" class="btn btn-dark me-2" onclick="Send()" value="Submit"> 
        <button type="button1" class="btn btn-dark me-2" target="_blank" role="button">Save Log<i class="fas fa-download ms-2"></i>		
      </font>
    <br>
	</div>
</body>
<footer class="bg-light text-center text-white">
  <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 1);">
	© 2022 Copyright: Version: 1.0.1
  </div>
</footer>
</html>